{"ast":null,"code":"'use strict';\n\nfunction emptyFn() {}\n\nvar React = require('react');\n\nvar assign = require('object-assign');\n\nvar Region = require('region-align');\n\nvar inTriangle = require('point-in-triangle');\n\nvar hasTouch = require('has-touch');\n\nvar normalize = require('react-style-normalizer');\n\nvar getMenuOffset = require('./getMenuOffset');\n\nvar getConstrainRegion = require('./align/getConstrainRegion');\n\nvar getItemStyleProps = require('./getItemStyleProps');\n\nvar renderSubMenu = require('./renderSubMenu');\n\nvar renderChildren = require('./renderChildren');\n\nvar prepareItem = require('./prepareItem');\n\nvar propTypes = require('./propTypes');\n\nvar ScrollContainer = require('./ScrollContainer');\n\nvar MenuItem = require('./MenuItem');\n\nvar MenuClass = React.createClass({\n  displayName: 'Menu',\n  propTypes: propTypes,\n  getDefaultProps: function () {\n    return {\n      isMenu: true,\n      constrainTo: true,\n      enableScroll: true,\n      interactionStyles: true,\n      applyDefaultTheme: true,\n      defaultStyle: {\n        display: 'inline-block',\n        boxSizing: 'border-box',\n        position: 'relative',\n        background: 'white',\n        //theme props\n        border: '1px solid rgb(46, 153, 235)'\n      },\n      defaultSubMenuStyle: {\n        position: 'absolute'\n      },\n      subMenuStyle: null,\n      scrollerProps: {},\n      columns: ['label'],\n      items: null,\n      visible: true,\n      defaultItemStyle: {},\n      itemStyle: {},\n      defaultItemOverStyle: {},\n      itemOverStyle: {},\n      defaultItemDisabledStyle: {},\n      itemDisabledStyle: {},\n      defaultItemExpandedStyle: {},\n      itemExpandedStyle: {},\n      defaultCellStyle: {},\n      cellStyle: {},\n      stopClickPropagation: true\n    };\n  },\n  getInitialState: function () {\n    return {\n      mouseOver: false\n    };\n  },\n  componentWillUnmount: function () {\n    this.didMount = false;\n  },\n  componentDidMount: function () {\n    ;\n    (this.props.onMount || emptyFn)(this);\n    this.didMount = true;\n\n    if ((this.props.constrainTo || this.props.alignTo) && !this.props.subMenu) {\n      setTimeout(function () {\n        if (!this.isMounted()) {\n          return;\n        }\n\n        var props = this.props;\n        var scrollRegion = Region.from(this.refs.scrollContainer.getDOMNode());\n        var domNode = this.getDOMNode();\n        var domRegion = Region.from(domNode);\n        var paddingSize = domRegion.height;\n        var actualHeight = scrollRegion.height + paddingSize; //get clientHeight of this dom node, so as to account for padding\n        //build the actual region of the menu\n\n        var actualRegion = Region({\n          left: domRegion.left,\n          right: domRegion.right,\n          top: domRegion.top,\n          bottom: domRegion.top + actualHeight\n        });\n        var constrainRegion = props.constrainTo ? getConstrainRegion(props.constrainTo) : null;\n        var newState;\n\n        if (props.alignTo) {\n          var parentRegion = Region.from(domNode.parentNode);\n          var alignRegion = Region.from(props.alignTo);\n          actualRegion.alignTo(alignRegion, props.alignPositions, {\n            offset: props.alignOffset,\n            constrain: constrainRegion\n          });\n          var newTop = actualRegion.top - parentRegion.top;\n          var newLeft = actualRegion.left - parentRegion.left;\n          newState = {\n            style: {\n              left: newLeft,\n              top: newTop\n            }\n          };\n        }\n\n        if (constrainRegion) {\n          newState = newState || {};\n\n          if (actualRegion.bottom > constrainRegion.bottom) {\n            newState.maxHeight = constrainRegion.bottom - actualRegion.top - paddingSize;\n          }\n        }\n\n        newState && this.setState(newState);\n      }.bind(this), 0);\n    }\n  },\n  prepareProps: function (thisProps, state) {\n    var props = {};\n    assign(props, this.props);\n    props.style = this.prepareStyle(props, state);\n    props.className = this.prepareClassName(props);\n    props.itemStyleProps = getItemStyleProps(props, state);\n    props.children = this.prepareChildren(props, state);\n    props.scrollerProps = this.prepareScrollerProps(props);\n    return props;\n  },\n  prepareScrollerProps: function (props) {\n    return assign({}, props.scrollerProps);\n  },\n  prepareChildren: function (props, state) {\n    var children = props.children;\n\n    if (props.items && props.items.length) {\n      children = props.items.map(this.prepareItem.bind(this, props, state));\n    }\n\n    return children;\n  },\n  prepareItem: prepareItem,\n  prepareClassName: function (props) {\n    var className = props.className || '';\n    className += ' z-menu';\n    return className;\n  },\n  prepareStyle: function (props, state) {\n    var subMenuStyle = props.subMenu ? props.defaultSubMenuStyle : null;\n    var style = assign({}, props.defaultStyle, subMenuStyle, props.style, props.subMenuStyle);\n\n    if (!props.visible || props.items && !props.items.length) {\n      style.display = 'none';\n    }\n\n    if (props.absolute) {\n      style.position = 'absolute';\n    }\n\n    if (props.at) {\n      var isArray = Array.isArray(props.at);\n      var coords = {\n        left: isArray ? props.at[0] : props.at.left === undefined ? props.at.x || props.at.pageX : props.at.left,\n        top: isArray ? props.at[1] : props.at.top === undefined ? props.at.y || props.at.pageY : props.at.top\n      };\n      assign(style, coords);\n    }\n\n    if (state.style) {\n      assign(style, state.style);\n    }\n\n    if (!this.didMount && (props.constrainTo || props.alignTo) && !props.subMenu) {\n      //when a top menu is initially rendered (and should be constrained or has alignTo)\n      //we show it hidden initially, so we can safely constrain and/or align it\n      style.visibility = 'hidden';\n      style.maxHeight = 0;\n      style.overflow = 'hidden';\n    }\n\n    return normalize(style);\n  },\n  /////////////// RENDERING LOGIC\n  renderSubMenu: renderSubMenu,\n  render: function () {\n    var state = this.state;\n    var props = this.prepareProps(this.props, state);\n    var menu = this.renderSubMenu(props, state);\n    var children = this.renderChildren(props, state);\n    return React.createElement(\"div\", React.__spread({}, props), menu, React.createElement(ScrollContainer, {\n      onMouseEnter: this.handleMouseEnter,\n      onMouseLeave: this.handleMouseLeave,\n      scrollerProps: props.scrollerProps,\n      ref: \"scrollContainer\",\n      enableScroll: props.enableScroll,\n      maxHeight: state.maxHeight || props.maxHeight\n    }, React.createElement(\"table\", {\n      ref: \"table\",\n      style: {\n        borderSpacing: 0\n      }\n    }, React.createElement(\"tbody\", null, children))));\n  },\n  renderChildren: renderChildren,\n  ////////////////////////// BEHAVIOUR LOGIC\n  handleMouseEnter: function () {\n    this.setState({\n      mouseInside: true\n    });\n    this.onActivate();\n  },\n  handleMouseLeave: function () {\n    this.setState({\n      mouseInside: false\n    });\n\n    if (!this.state.menu && !this.state.nextItem) {\n      // if (!this.state.nextItem){\n      this.onInactivate();\n    }\n  },\n  onActivate: function () {\n    if (!this.state.activated) {\n      // console.log('activate')\n      this.setState({\n        activated: true\n      });\n      (this.props.onActivate || emptyFn)();\n    }\n  },\n  onInactivate: function () {\n    if (this.state.activated) {\n      this.setState({\n        activated: false\n      }) // console.log('inactivate')\n      ;\n      (this.props.onInactivate || emptyFn)();\n    }\n  },\n  //we also need mouseOverSubMenu: Boolean\n  //since when from a submenu we move back to a parent menu, we may move\n  //to a different menu item than the one that triggered the submenu\n  //so we should display another submenu\n  handleSubMenuMouseEnter: function () {\n    this.setState({\n      mouseOverSubMenu: true\n    });\n  },\n  handleSubMenuMouseLeave: function () {\n    this.setState({\n      mouseOverSubMenu: false\n    });\n  },\n  isSubMenuActive: function () {\n    return this.state.subMenuActive;\n  },\n  onSubMenuActivate: function () {\n    this.setState({\n      subMenuActive: true\n    });\n  },\n  onSubMenuInactivate: function () {\n    var ts = +new Date();\n    var nextItem = this.state.nextItem;\n    var nextTimestamp = this.state.nextTimestamp || 0;\n    this.setState({\n      subMenuActive: false,\n      timestamp: ts\n    }, function () {\n      setTimeout(function () {\n        if (ts != this.state.timestamp || nextItem && ts - nextTimestamp < 100) {\n          //a menu show has occured in the mean-time,\n          //so skip hiding the menu\n          this.setItem(this.state.nextItem, this.state.nextOffset);\n          return;\n        }\n\n        if (!this.isSubMenuActive()) {\n          this.setItem();\n        }\n      }.bind(this), 10);\n    });\n  },\n  removeMouseMoveListener: function () {\n    if (this.onWindowMouseMove) {\n      window.removeEventListener('mousemove', this.onWindowMouseMove);\n      this.onWindowMouseMove = null;\n    }\n  },\n  onMenuItemMouseOut: function (itemProps, leaveOffset) {\n    if (this.state.menu) {\n      this.setupCheck(leaveOffset);\n    }\n  },\n\n  /**\n   * Called when mouseout happens on the item for which there is a submenu displayed\n   */\n  onMenuItemMouseOver: function (itemProps, menuOffset, entryPoint) {\n    if (!this.didMount) {\n      return;\n    }\n\n    var menu = itemProps.menu;\n    var ts = +new Date();\n\n    if (!menu) {\n      return;\n    }\n\n    if (!this.state.menu) {\n      //there is no menu visible, so it's safe to show the menu\n      this.setItem(itemProps, menuOffset);\n    } else {\n      //there is a menu visible, from the previous item that had mouse over\n      //so we should queue this item's menu as the next menu to be shown\n      this.setNextItem(itemProps, menuOffset);\n    }\n  },\n  setupCheck: function (offset) {\n    if (!this.didMount) {\n      return;\n    }\n\n    var tolerance = 5;\n    var domNode = this.getDOMNode();\n    var menuNode = domNode.querySelector('.z-menu');\n\n    if (!menuNode) {\n      return;\n    }\n\n    var menuRegion = Region.from(menuNode);\n    var x1 = menuRegion.left;\n    var y1 = menuRegion.top; // - tolerance\n\n    var x2 = menuRegion.left;\n    var y2 = menuRegion.bottom; // + tolerance\n\n    if (this.subMenuPosition == 'left') {\n      x1 = menuRegion.right;\n      x2 = menuRegion.right;\n    }\n\n    var x3 = offset.x + (this.subMenuPosition == 'left' ? tolerance : -tolerance);\n    var y3 = offset.y;\n    var triangle = [[x1, y1], [x2, y2], [x3, y3]];\n    this.removeMouseMoveListener();\n\n    this.onWindowMouseMove = function (event) {\n      var point = [event.pageX, event.pageY];\n\n      if (!inTriangle(point, triangle)) {\n        this.removeMouseMoveListener();\n\n        if (!this.state.mouseOverSubMenu) {\n          //the mouse is not over a sub menu item\n          //\n          //so we show a menu of a sibling item, or hide the menu\n          //if no sibling item visited\n          this.setItem(this.state.nextItem, this.state.nextOffset);\n        }\n      }\n    }.bind(this);\n\n    window.addEventListener('mousemove', this.onWindowMouseMove);\n  },\n  setNextItem: function (itemProps, menuOffset) {\n    var ts = +new Date();\n    this.setState({\n      timestamp: ts,\n      nextItem: itemProps,\n      nextOffset: menuOffset,\n      nextTimestamp: +new Date()\n    });\n  },\n  setItem: function (itemProps, offset) {\n    var menu = itemProps ? itemProps.menu : null; // if (!menu){\n    //     return\n    // }\n\n    this.removeMouseMoveListener();\n\n    if (!this.didMount) {\n      return;\n    }\n\n    if (!menu && !this.state.mouseInside) {\n      this.onInactivate();\n    }\n\n    this.setState({\n      itemProps: itemProps,\n      menu: menu,\n      menuOffset: offset,\n      timestamp: +new Date(),\n      nextItem: null,\n      nextOffset: null,\n      nextTimestamp: null\n    });\n  },\n  onMenuItemExpanderClick: function (event) {\n    event.nativeEvent.expanderClick = true;\n  },\n  onMenuItemClick: function (event, props, index) {\n    var stopped = event.isPropagationStopped();\n    this.props.stopClickPropagation && event.stopPropagation();\n\n    if (hasTouch && props && event && event.nativeEvent && event.nativeEvent.expanderClick) {\n      var offset = {\n        x: event.pageX,\n        y: event.pageY\n      };\n      var menuOffset = getMenuOffset(event.currentTarget);\n      this.onMenuItemMouseOver(props, menuOffset, offset);\n      return;\n    }\n\n    if (!stopped) {\n      if (props) {\n        ;\n        (this.props.onClick || emptyFn)(event, props, index);\n      }\n\n      this.onChildClick(event, props);\n    }\n  },\n  onChildClick: function (event, props) {\n    ;\n    (this.props.onChildClick || emptyFn)(event, props);\n\n    if (this.props.parentMenu) {\n      this.props.parentMenu.onChildClick(event, props);\n    }\n  }\n});\nMenuClass.themes = require('./MenuItem/themes');\nmodule.exports = MenuClass;","map":{"version":3,"sources":["C:/Users/Anna/Desktop/Privat/Additive2/newsletter/newsletter/node_modules/react-menus/lib/Menu.js"],"names":["emptyFn","React","require","assign","Region","inTriangle","hasTouch","normalize","getMenuOffset","getConstrainRegion","getItemStyleProps","renderSubMenu","renderChildren","prepareItem","propTypes","ScrollContainer","MenuItem","MenuClass","createClass","displayName","getDefaultProps","isMenu","constrainTo","enableScroll","interactionStyles","applyDefaultTheme","defaultStyle","display","boxSizing","position","background","border","defaultSubMenuStyle","subMenuStyle","scrollerProps","columns","items","visible","defaultItemStyle","itemStyle","defaultItemOverStyle","itemOverStyle","defaultItemDisabledStyle","itemDisabledStyle","defaultItemExpandedStyle","itemExpandedStyle","defaultCellStyle","cellStyle","stopClickPropagation","getInitialState","mouseOver","componentWillUnmount","didMount","componentDidMount","props","onMount","alignTo","subMenu","setTimeout","isMounted","scrollRegion","from","refs","scrollContainer","getDOMNode","domNode","domRegion","paddingSize","height","actualHeight","actualRegion","left","right","top","bottom","constrainRegion","newState","parentRegion","parentNode","alignRegion","alignPositions","offset","alignOffset","constrain","newTop","newLeft","style","maxHeight","setState","bind","prepareProps","thisProps","state","prepareStyle","className","prepareClassName","itemStyleProps","children","prepareChildren","prepareScrollerProps","length","map","absolute","at","isArray","Array","coords","undefined","x","pageX","y","pageY","visibility","overflow","render","menu","createElement","__spread","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","ref","borderSpacing","mouseInside","onActivate","nextItem","onInactivate","activated","handleSubMenuMouseEnter","mouseOverSubMenu","handleSubMenuMouseLeave","isSubMenuActive","subMenuActive","onSubMenuActivate","onSubMenuInactivate","ts","Date","nextTimestamp","timestamp","setItem","nextOffset","removeMouseMoveListener","onWindowMouseMove","window","removeEventListener","onMenuItemMouseOut","itemProps","leaveOffset","setupCheck","onMenuItemMouseOver","menuOffset","entryPoint","setNextItem","tolerance","menuNode","querySelector","menuRegion","x1","y1","x2","y2","subMenuPosition","x3","y3","triangle","event","point","addEventListener","onMenuItemExpanderClick","nativeEvent","expanderClick","onMenuItemClick","index","stopped","isPropagationStopped","stopPropagation","currentTarget","onClick","onChildClick","parentMenu","themes","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nfunction emptyFn(){}\n\nvar React      = require('react')\nvar assign     = require('object-assign')\nvar Region     = require('region-align')\nvar inTriangle = require('point-in-triangle')\nvar hasTouch = require('has-touch')\n\nvar normalize = require('react-style-normalizer')\n\nvar getMenuOffset = require('./getMenuOffset')\nvar getConstrainRegion = require('./align/getConstrainRegion')\nvar getItemStyleProps = require('./getItemStyleProps')\nvar renderSubMenu     = require('./renderSubMenu')\nvar renderChildren    = require('./renderChildren')\nvar prepareItem       = require('./prepareItem')\n\nvar propTypes = require('./propTypes')\nvar ScrollContainer = require('./ScrollContainer')\n\nvar MenuItem = require('./MenuItem')\n\nvar MenuClass = React.createClass({\n\n    displayName: 'Menu',\n\n    propTypes: propTypes,\n\n    getDefaultProps: function(){\n\n        return {\n            isMenu: true,\n            constrainTo: true,\n            enableScroll: true,\n            interactionStyles: true,\n            applyDefaultTheme: true,\n\n            defaultStyle: {\n                display  : 'inline-block',\n                boxSizing: 'border-box',\n                position : 'relative',\n\n                background: 'white',\n                //theme props\n                border: '1px solid rgb(46, 153, 235)'\n            },\n            defaultSubMenuStyle: {\n                position: 'absolute'\n            },\n            subMenuStyle: null,\n\n\n            scrollerProps: {},\n\n            columns: ['label'],\n            items  : null,\n            visible: true,\n\n            defaultItemStyle: {},\n            itemStyle: {},\n\n            defaultItemOverStyle: {},\n            itemOverStyle: {},\n\n            defaultItemDisabledStyle: {},\n            itemDisabledStyle: {},\n\n            defaultItemExpandedStyle: {},\n            itemExpandedStyle: {},\n\n            defaultCellStyle: {},\n            cellStyle: {},\n\n            stopClickPropagation: true\n        }\n    },\n\n    getInitialState: function() {\n        return {\n            mouseOver: false\n        }\n    },\n\n    componentWillUnmount: function(){\n        this.didMount = false\n    },\n\n    componentDidMount: function() {\n        ;(this.props.onMount || emptyFn)(this)\n\n        this.didMount = true\n\n        if ((this.props.constrainTo || this.props.alignTo) && !this.props.subMenu){\n            setTimeout(function(){\n\n                if (!this.isMounted()){\n                    return\n                }\n\n                var props = this.props\n\n                var scrollRegion = Region.from(this.refs.scrollContainer.getDOMNode())\n                var domNode      = this.getDOMNode()\n                var domRegion    = Region.from(domNode)\n                var paddingSize  = domRegion.height\n\n                var actualHeight = scrollRegion.height + paddingSize\n                //get clientHeight of this dom node, so as to account for padding\n\n                //build the actual region of the menu\n                var actualRegion = Region({\n                    left  : domRegion.left,\n                    right : domRegion.right,\n\n                    top   : domRegion.top,\n                    bottom: domRegion.top + actualHeight\n                })\n\n                var constrainRegion = props.constrainTo?\n                                        getConstrainRegion(props.constrainTo):\n                                        null\n\n                var newState\n\n                if (props.alignTo){\n                    var parentRegion = Region.from(domNode.parentNode)\n                    var alignRegion = Region.from(props.alignTo)\n\n                    actualRegion.alignTo(alignRegion, props.alignPositions, {\n                        offset: props.alignOffset,\n                        constrain: constrainRegion\n                    })\n\n                    var newTop = actualRegion.top - parentRegion.top\n                    var newLeft = actualRegion.left - parentRegion.left\n\n                    newState = {\n                        style: {\n                            left: newLeft,\n                            top : newTop\n                        }\n                    }\n                }\n\n                if (constrainRegion){\n                    newState = newState || {}\n\n                    if (actualRegion.bottom > constrainRegion.bottom){\n                        newState.maxHeight = constrainRegion.bottom - actualRegion.top - paddingSize\n                    }\n                }\n\n                newState && this.setState(newState)\n            }.bind(this), 0)\n        }\n    },\n\n    prepareProps: function(thisProps, state) {\n        var props = {}\n\n        assign(props, this.props)\n\n        props.style     = this.prepareStyle(props, state)\n        props.className = this.prepareClassName(props)\n\n        props.itemStyleProps = getItemStyleProps(props, state)\n        props.children  = this.prepareChildren(props, state)\n\n        props.scrollerProps = this.prepareScrollerProps(props)\n\n        return props\n    },\n\n    prepareScrollerProps: function(props) {\n        return assign({}, props.scrollerProps)\n    },\n\n    prepareChildren: function(props, state){\n\n        var children = props.children\n\n        if (props.items && props.items.length){\n            children = props.items.map(this.prepareItem.bind(this, props, state))\n        }\n\n        return children\n    },\n\n    prepareItem: prepareItem,\n\n    prepareClassName: function(props) {\n        var className = props.className || ''\n\n        className += ' z-menu'\n\n        return className\n    },\n\n    prepareStyle: function(props, state) {\n        var subMenuStyle = props.subMenu?\n                            props.defaultSubMenuStyle:\n                            null\n\n        var style = assign({}, props.defaultStyle, subMenuStyle, props.style, props.subMenuStyle)\n\n        if (!props.visible || (props.items && !props.items.length)){\n            style.display = 'none'\n        }\n\n        if (props.absolute){\n            style.position = 'absolute'\n        }\n\n        if (props.at){\n            var isArray = Array.isArray(props.at)\n            var coords = {\n                left: isArray?\n                        props.at[0]:\n                        props.at.left === undefined?\n                            props.at.x || props.at.pageX:\n                            props.at.left,\n\n                top: isArray?\n                        props.at[1]:\n                        props.at.top === undefined?\n                            props.at.y || props.at.pageY:\n                            props.at.top\n            }\n\n            assign(style, coords)\n        }\n\n        if (state.style){\n            assign(style, state.style)\n        }\n\n        if (!this.didMount && (props.constrainTo || props.alignTo) && !props.subMenu){\n            //when a top menu is initially rendered (and should be constrained or has alignTo)\n            //we show it hidden initially, so we can safely constrain and/or align it\n            style.visibility = 'hidden'\n            style.maxHeight  = 0\n            style.overflow   = 'hidden'\n        }\n\n        return normalize(style)\n    },\n\n    /////////////// RENDERING LOGIC\n\n    renderSubMenu: renderSubMenu,\n\n    render: function() {\n        var state = this.state\n        var props = this.prepareProps(this.props, state)\n\n        var menu     = this.renderSubMenu(props, state)\n        var children = this.renderChildren(props, state)\n\n        return (\n            React.createElement(\"div\", React.__spread({},  props), \n                menu, \n                React.createElement(ScrollContainer, {\n                    onMouseEnter: this.handleMouseEnter, \n                    onMouseLeave: this.handleMouseLeave, \n                    scrollerProps: props.scrollerProps, \n                    ref: \"scrollContainer\", enableScroll: props.enableScroll, maxHeight: state.maxHeight || props.maxHeight}, \n                    React.createElement(\"table\", {ref: \"table\", style: {borderSpacing: 0}}, \n                        React.createElement(\"tbody\", null, \n                            children\n                        )\n                    )\n                )\n            )\n        )\n    },\n\n    renderChildren: renderChildren,\n\n    ////////////////////////// BEHAVIOUR LOGIC\n\n    handleMouseEnter: function() {\n        this.setState({\n            mouseInside: true\n        })\n\n        this.onActivate()\n    },\n\n    handleMouseLeave: function() {\n        this.setState({\n            mouseInside: false\n        })\n\n        if (!this.state.menu && !this.state.nextItem){\n        // if (!this.state.nextItem){\n            this.onInactivate()\n        }\n    },\n\n    onActivate: function() {\n        if (!this.state.activated){\n            // console.log('activate')\n            this.setState({\n                activated: true\n            })\n\n            ;(this.props.onActivate || emptyFn)()\n        }\n    },\n\n    onInactivate: function() {\n        if (this.state.activated){\n\n            this.setState({\n                activated: false\n            })\n\n            // console.log('inactivate')\n            ;(this.props.onInactivate || emptyFn)()\n        }\n    },\n\n    //we also need mouseOverSubMenu: Boolean\n    //since when from a submenu we move back to a parent menu, we may move\n    //to a different menu item than the one that triggered the submenu\n    //so we should display another submenu\n    handleSubMenuMouseEnter: function() {\n        this.setState({\n            mouseOverSubMenu: true\n        })\n    },\n\n    handleSubMenuMouseLeave: function() {\n        this.setState({\n            mouseOverSubMenu: false\n        })\n    },\n\n    isSubMenuActive: function() {\n        return this.state.subMenuActive\n    },\n\n    onSubMenuActivate: function() {\n        this.setState({\n            subMenuActive: true\n        })\n    },\n\n    onSubMenuInactivate: function() {\n        var ts = +new Date()\n\n        var nextItem      = this.state.nextItem\n        var nextTimestamp = this.state.nextTimestamp || 0\n\n        this.setState({\n            subMenuActive: false,\n            timestamp       : ts\n        }, function(){\n\n            setTimeout(function(){\n                if (ts != this.state.timestamp || (nextItem && (ts - nextTimestamp < 100))){\n                    //a menu show has occured in the mean-time,\n                    //so skip hiding the menu\n                    this.setItem(this.state.nextItem, this.state.nextOffset)\n                    return\n                }\n\n                if (!this.isSubMenuActive()){\n                    this.setItem()\n                }\n            }.bind(this), 10)\n\n        })\n\n    },\n\n    removeMouseMoveListener: function() {\n        if (this.onWindowMouseMove){\n            window.removeEventListener('mousemove', this.onWindowMouseMove)\n            this.onWindowMouseMove = null\n        }\n    },\n\n    onMenuItemMouseOut: function(itemProps, leaveOffset) {\n        if (this.state.menu){\n            this.setupCheck(leaveOffset)\n        }\n    },\n\n    /**\n     * Called when mouseout happens on the item for which there is a submenu displayed\n     */\n    onMenuItemMouseOver: function(itemProps, menuOffset, entryPoint) {\n\n        if (!this.didMount){\n            return\n        }\n\n        var menu = itemProps.menu\n        var ts   = +new Date()\n\n        if (!menu){\n            return\n        }\n\n        if (!this.state.menu){\n            //there is no menu visible, so it's safe to show the menu\n            this.setItem(itemProps, menuOffset)\n        } else {\n            //there is a menu visible, from the previous item that had mouse over\n            //so we should queue this item's menu as the next menu to be shown\n            this.setNextItem(itemProps, menuOffset)\n        }\n    },\n\n    setupCheck: function(offset){\n        if (!this.didMount){\n            return\n        }\n\n        var tolerance = 5\n\n        var domNode    = this.getDOMNode()\n        var menuNode   = domNode.querySelector('.z-menu')\n\n        if (!menuNode){\n            return\n        }\n\n        var menuRegion = Region.from(menuNode)\n\n        var x1 = menuRegion.left\n        var y1 = menuRegion.top// - tolerance\n\n        var x2 = menuRegion.left\n        var y2 = menuRegion.bottom// + tolerance\n\n        if (this.subMenuPosition == 'left'){\n            x1 = menuRegion.right\n            x2 = menuRegion.right\n        }\n\n        var x3 = offset.x + (this.subMenuPosition == 'left'? tolerance: -tolerance)\n        var y3 = offset.y\n\n        var triangle = [\n            [x1, y1],\n            [x2, y2],\n            [x3, y3]\n        ]\n\n        this.removeMouseMoveListener()\n\n        this.onWindowMouseMove = function(event){\n\n            var point = [event.pageX, event.pageY]\n\n            if (!inTriangle(point, triangle)){\n\n                this.removeMouseMoveListener()\n\n                if (!this.state.mouseOverSubMenu){\n                    //the mouse is not over a sub menu item\n                    //\n                    //so we show a menu of a sibling item, or hide the menu\n                    //if no sibling item visited\n                    this.setItem(this.state.nextItem, this.state.nextOffset)\n                }\n            }\n        }.bind(this)\n\n        window.addEventListener('mousemove', this.onWindowMouseMove)\n    },\n\n    setNextItem: function(itemProps, menuOffset) {\n\n        var ts = +new Date()\n\n        this.setState({\n            timestamp        : ts,\n\n            nextItem     : itemProps,\n            nextOffset   : menuOffset,\n            nextTimestamp: +new Date()\n        })\n    },\n\n    setItem: function(itemProps, offset) {\n\n        var menu = itemProps?\n                        itemProps.menu:\n                        null\n\n        // if (!menu){\n        //     return\n        // }\n\n        this.removeMouseMoveListener()\n\n        if (!this.didMount){\n            return\n        }\n\n        if (!menu && !this.state.mouseInside){\n            this.onInactivate()\n        }\n\n        this.setState({\n            itemProps    : itemProps,\n\n            menu         : menu,\n            menuOffset   : offset,\n            timestamp    : +new Date(),\n\n            nextItem     : null,\n            nextOffset   : null,\n            nextTimestamp: null\n        })\n    },\n\n    onMenuItemExpanderClick: function(event) {\n        event.nativeEvent.expanderClick = true\n    },\n\n    onMenuItemClick: function(event, props, index) {\n\n        var stopped = event.isPropagationStopped()\n\n        this.props.stopClickPropagation && event.stopPropagation()\n\n        if (hasTouch && props && event && event.nativeEvent && event.nativeEvent.expanderClick){\n\n            var offset = {\n                x: event.pageX,\n                y: event.pageY\n            }\n\n            var menuOffset = getMenuOffset(event.currentTarget)\n            this.onMenuItemMouseOver(props, menuOffset, offset)\n\n            return\n        }\n\n        if (!stopped){\n            if (props){\n                ;(this.props.onClick || emptyFn)(event, props, index)\n            }\n\n            this.onChildClick(event, props)\n        }\n    },\n\n    onChildClick: function(event, props) {\n        ;(this.props.onChildClick || emptyFn)(event, props)\n\n        if (this.props.parentMenu){\n            this.props.parentMenu.onChildClick(event, props)\n        }\n    }\n})\n\nMenuClass.themes = require('./MenuItem/themes')\n\nmodule.exports = MenuClass"]},"metadata":{},"sourceType":"script"}