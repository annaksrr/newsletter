{"ast":null,"code":"'use strict';\n\nvar React = require('react');\n\nvar assign = require('object-assign');\n\nvar normalize = require('react-style-normalizer');\n\nvar EVENT_NAMES = require('react-event-names');\n\nvar getMenuOffset = require('../getMenuOffset');\n\nvar prepareChildren = require('./prepareChildren');\n\nvar Menu = require('../Menu');\n\nvar MenuItemCell = require('../MenuItemCell');\n\nvar emptyFn = function () {};\n\nfunction toUpperFirst(s) {\n  return s ? s.charAt(0).toUpperCase() + s.substring(1) : '';\n}\n\nvar MenuItem = React.createClass({\n  displayName: 'ReactMenuItem',\n  getInitialState: function () {\n    return {};\n  },\n  getDefaultProps: function () {\n    return {\n      isMenuItem: true,\n      interactionStyles: true,\n      defaultStyle: {\n        cursor: 'pointer',\n        userSelect: 'none',\n        boxSizing: 'border-box'\n      },\n      expander: '›'\n    };\n  },\n  render: function () {\n    var props = this.prepareProps(this.props, this.state);\n    return React.createElement(\"tr\", React.__spread({}, props));\n  },\n  componentDidMount: function () {\n    this.didMount = true;\n  },\n  prepareProps: function (thisProps, state) {\n    var props = {};\n    assign(props, thisProps);\n    props.theme = this.prepareTheme(props);\n    props.mouseOver = !!state.mouseOver;\n    props.active = !!state.active;\n    props.disabled = !!props.disabled;\n    props.style = this.prepareStyle(props);\n    props.className = this.prepareClassName(props);\n    props.children = this.prepareChildren(props);\n    props.onClick = this.handleClick.bind(this, props);\n    props.onMouseEnter = this.handleMouseEnter.bind(this, props);\n    props.onMouseLeave = this.handleMouseLeave.bind(this, props);\n    props.onMouseDown = this.handleMouseDown;\n    props.onMouseMove = this.handleMouseMove;\n    return props;\n  },\n  prepareTheme: function (props) {\n    var THEMES = props.themes = props.themes || this.constructor.theme || THEME;\n    var theme = props.theme;\n\n    if (typeof theme == 'string') {\n      theme = THEMES[theme];\n    }\n\n    return theme || THEMES.default;\n  },\n  handleClick: function (props, event) {\n    if (props.disabled) {\n      event.stopPropagation();\n      return;\n    }\n\n    ;\n    (this.props.onClick || this.props.fn || emptyFn)(event, props, props.index);\n  },\n  handleMouseMove: function (event) {},\n  handleMouseDown: function (event) {\n    var mouseUpListener = function () {\n      this.setState({\n        active: false\n      });\n      window.removeEventListener('mouseup', mouseUpListener);\n    }.bind(this);\n\n    window.addEventListener('mouseup', mouseUpListener);\n    this.setState({\n      active: true\n    });\n  },\n  showMenu: function (menu, props) {\n    props.showMenu(menu, offset);\n  },\n  handleMouseEnter: function (props, event) {\n    if (props.disabled) {\n      return;\n    }\n\n    var offset = {\n      x: event.pageX,\n      y: event.pageY\n    };\n    this.setState({\n      mouseOver: true\n    });\n\n    if (props.onMenuItemMouseOver) {\n      var menuOffset;\n\n      if (props.menu) {\n        // console.log(props);\n        menuOffset = getMenuOffset(this.getDOMNode());\n      } // console.log(menuOffset, offset);\n\n\n      props.onMenuItemMouseOver(props, menuOffset, offset);\n    }\n  },\n  handleMouseLeave: function (props, event) {\n    if (props.disabled) {\n      return;\n    }\n\n    var offset = {\n      x: event.pageX,\n      y: event.pageY\n    };\n\n    if (this.didMount) {\n      this.setState({\n        active: false,\n        mouseOver: false\n      });\n    }\n\n    if (props.onMenuItemMouseOut) {\n      props.onMenuItemMouseOut(props, offset);\n    }\n  },\n  prepareChildren: prepareChildren,\n  prepareClassName: function (props) {\n    var className = props.className || '';\n    className += ' menu-row';\n\n    if (props.disabled) {\n      className += ' disabled ' + (props.disabledClassName || '');\n    } else {\n      if (props.mouseOver) {\n        className += ' over ' + (props.overClassName || '');\n      }\n\n      if (props.active) {\n        className += ' active ' + (props.activeClassName || '');\n      }\n\n      if (props.expanded) {\n        className += ' expanded ' + (props.expandedClassName || '');\n      }\n    }\n\n    return className;\n  },\n  prepareDefaultStyle: function (props) {\n    var defaultStyle = assign({}, props.defaultStyle);\n\n    if (props.disabled) {\n      assign(defaultStyle, props.defaultDisabledStyle);\n    }\n\n    return defaultStyle;\n  },\n  prepareComputedStyleNames: function (props) {\n    var names = ['style'];\n\n    if (props.disabled) {\n      names.push('disabledStyle');\n      return names;\n    }\n\n    if (props.expanded) {\n      names.push('expandedStyle');\n    } //names is something like ['style','expandedStyle']\n    //\n    //now we add over and active styles\n\n\n    var overNames;\n\n    if (props.mouseOver) {\n      overNames = names.map(function (name) {\n        return 'over' + toUpperFirst(name);\n      });\n    }\n\n    var activeNames;\n\n    if (props.active) {\n      activeNames = names.map(function (name) {\n        return 'active' + toUpperFirst(name);\n      });\n    }\n\n    overNames && names.push.apply(names, overNames);\n    activeNames && names.push.apply(names, activeNames);\n    return names;\n  },\n  prepareStyle: function (props) {\n    var style = assign({}, this.prepareDefaultStyle(props));\n    var styleNames = this.prepareComputedStyleNames(props);\n    var theme = props.theme;\n    var THEMES = props.themes;\n\n    if (theme) {\n      //apply default theme first\n      if (props.applyDefaultTheme && theme != THEMES.default && THEMES.default) {\n        styleNames.forEach(function (styleName) {\n          assign(style, THEMES.default[styleName]);\n        });\n      } //then apply theme\n\n\n      styleNames.forEach(function (styleName) {\n        assign(style, theme[styleName]);\n      });\n    }\n\n    ;\n    (props.onThemeStyleReady || emptyFn)(style, props); //now apply non-theme\n\n    styleNames.forEach(function (styleName) {\n      assign(style, props[styleName]);\n    });\n    (props.onStyleReady || emptyFn)(style, props);\n    return normalize(style); // assign(style, props.defaultStyle, props.style)\n    // if (props.disabled){\n    //     assign(style, props.defaultDisabledStyle, props.disabledStyle)\n    // } else {\n    //     if (props.interactionStyles){\n    //         if (props.expanded){\n    //             assign(style, props.defaultExpandedStyle, props.expandedStyle)\n    //         }\n    //         if (props.mouseOver){\n    //             assign(style, props.defaultOverStyle, props.overStyle)\n    //         }\n    //         if (props.active){\n    //             assign(style, props.defaultActiveStyle, props.activeStyle)\n    //         }\n    //     }\n    // }\n    // return normalize(style)\n  }\n});\nmodule.exports = MenuItem;","map":{"version":3,"sources":["C:/Users/Anna/Desktop/Privat/Additive2/newsletter/newsletter/node_modules/react-menus/lib/MenuItem/index.js"],"names":["React","require","assign","normalize","EVENT_NAMES","getMenuOffset","prepareChildren","Menu","MenuItemCell","emptyFn","toUpperFirst","s","charAt","toUpperCase","substring","MenuItem","createClass","displayName","getInitialState","getDefaultProps","isMenuItem","interactionStyles","defaultStyle","cursor","userSelect","boxSizing","expander","render","props","prepareProps","state","createElement","__spread","componentDidMount","didMount","thisProps","theme","prepareTheme","mouseOver","active","disabled","style","prepareStyle","className","prepareClassName","children","onClick","handleClick","bind","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","onMouseDown","handleMouseDown","onMouseMove","handleMouseMove","THEMES","themes","constructor","THEME","default","event","stopPropagation","fn","index","mouseUpListener","setState","window","removeEventListener","addEventListener","showMenu","menu","offset","x","pageX","y","pageY","onMenuItemMouseOver","menuOffset","getDOMNode","onMenuItemMouseOut","disabledClassName","overClassName","activeClassName","expanded","expandedClassName","prepareDefaultStyle","defaultDisabledStyle","prepareComputedStyleNames","names","push","overNames","map","name","activeNames","apply","styleNames","applyDefaultTheme","forEach","styleName","onThemeStyleReady","onStyleReady","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar React         = require('react')\nvar assign        = require('object-assign')\nvar normalize     = require('react-style-normalizer')\nvar EVENT_NAMES   = require('react-event-names')\n\nvar getMenuOffset = require('../getMenuOffset')\n\nvar prepareChildren = require('./prepareChildren')\n\nvar Menu = require('../Menu')\nvar MenuItemCell = require('../MenuItemCell')\n\nvar emptyFn = function(){}\n\nfunction toUpperFirst(s){\n    return s?\n            s.charAt(0).toUpperCase() + s.substring(1):\n            ''\n}\n\nvar MenuItem = React.createClass({\n\n    displayName: 'ReactMenuItem',\n\n    getInitialState: function() {\n        return {}\n    },\n\n    getDefaultProps: function() {\n        return {\n            isMenuItem: true,\n            interactionStyles: true,\n\n            defaultStyle: {\n                cursor    : 'pointer',\n                userSelect: 'none',\n                boxSizing : 'border-box'\n            },\n\n            expander: '›'\n        }\n    },\n\n    render: function() {\n        var props = this.prepareProps(this.props, this.state)\n\n        return React.createElement(\"tr\", React.__spread({},  props))\n    },\n\n    componentDidMount: function() {\n        this.didMount = true\n    },\n\n    prepareProps: function(thisProps, state) {\n        var props = {}\n\n        assign(props, thisProps)\n\n        props.theme = this.prepareTheme(props)\n\n        props.mouseOver = !!state.mouseOver\n        props.active    = !!state.active\n        props.disabled    = !!props.disabled\n\n        props.style     = this.prepareStyle(props)\n        props.className = this.prepareClassName(props)\n\n        props.children  = this.prepareChildren(props)\n\n        props.onClick      = this.handleClick.bind(this, props)\n        props.onMouseEnter = this.handleMouseEnter.bind(this, props)\n        props.onMouseLeave = this.handleMouseLeave.bind(this, props)\n        props.onMouseDown  = this.handleMouseDown\n        props.onMouseMove  = this.handleMouseMove\n\n        return props\n    },\n\n    prepareTheme: function(props){\n        var THEMES = props.themes = props.themes || this.constructor.theme || THEME\n        var theme  = props.theme\n\n        if (typeof theme == 'string'){\n            theme = THEMES[theme]\n        }\n\n        return theme || THEMES.default\n    },\n\n    handleClick: function(props, event) {\n\n        if (props.disabled){\n            event.stopPropagation()\n            return\n        }\n\n        ;(this.props.onClick || this.props.fn || emptyFn)(event, props, props.index)\n    },\n\n    handleMouseMove: function(event){\n\n    },\n\n    handleMouseDown: function(event) {\n\n        var mouseUpListener = function(){\n            this.setState({\n                active: false\n            })\n            window.removeEventListener('mouseup', mouseUpListener)\n        }.bind(this)\n\n        window.addEventListener('mouseup', mouseUpListener)\n\n        this.setState({\n            active: true\n        })\n    },\n\n    showMenu: function(menu, props) {\n\n        props.showMenu(menu, offset)\n    },\n\n    handleMouseEnter: function(props, event) {\n\n        if (props.disabled){\n            return\n        }\n\n        var offset = {\n            x: event.pageX,\n            y: event.pageY\n        }\n\n        this.setState({\n            mouseOver: true\n        })\n\n        if (props.onMenuItemMouseOver){\n\n            var menuOffset\n\n            if (props.menu){\n                // console.log(props);\n                menuOffset = getMenuOffset(this.getDOMNode())\n            }\n\n            // console.log(menuOffset, offset);\n            props.onMenuItemMouseOver(props, menuOffset, offset)\n        }\n    },\n\n    handleMouseLeave: function(props, event) {\n\n        if (props.disabled){\n            return\n        }\n\n        var offset = {\n            x: event.pageX,\n            y: event.pageY\n        }\n\n        if (this.didMount){\n            this.setState({\n                active: false,\n                mouseOver: false\n            })\n        }\n\n        if (props.onMenuItemMouseOut){\n            props.onMenuItemMouseOut(props, offset)\n        }\n    },\n\n    prepareChildren: prepareChildren,\n\n    prepareClassName: function(props) {\n        var className = props.className || ''\n\n        className += ' menu-row'\n\n        if (props.disabled){\n            className += ' disabled ' + (props.disabledClassName || '')\n        } else {\n\n            if (props.mouseOver){\n                className += ' over ' + (props.overClassName || '')\n            }\n\n            if (props.active){\n                className += ' active ' + (props.activeClassName || '')\n            }\n\n            if (props.expanded){\n                className += ' expanded ' + (props.expandedClassName || '')\n            }\n        }\n\n        return className\n    },\n\n    prepareDefaultStyle: function(props){\n        var defaultStyle = assign({}, props.defaultStyle)\n\n        if (props.disabled){\n            assign(defaultStyle, props.defaultDisabledStyle)\n        }\n\n        return defaultStyle\n    },\n\n    prepareComputedStyleNames: function(props){\n        var names = ['style']\n\n        if (props.disabled){\n            names.push('disabledStyle')\n\n            return names\n        }\n\n        if (props.expanded){\n            names.push('expandedStyle')\n        }\n\n        //names is something like ['style','expandedStyle']\n        //\n        //now we add over and active styles\n\n        var overNames\n        if (props.mouseOver){\n            overNames = names.map(function(name){\n                return 'over' + toUpperFirst(name)\n            })\n        }\n\n        var activeNames\n        if (props.active){\n            activeNames = names.map(function(name){\n                return 'active' + toUpperFirst(name)\n            })\n        }\n\n        overNames   && names.push.apply(names, overNames)\n        activeNames && names.push.apply(names, activeNames)\n\n        return names\n    },\n\n    prepareStyle: function(props) {\n        var style = assign({}, this.prepareDefaultStyle(props))\n\n        var styleNames = this.prepareComputedStyleNames(props)\n        var theme      = props.theme\n        var THEMES     = props.themes\n\n\n        if (theme){\n            //apply default theme first\n            if (props.applyDefaultTheme && theme != THEMES.default && THEMES.default){\n                styleNames.forEach(function(styleName){\n                    assign(style, THEMES.default[styleName])\n                })\n            }\n\n            //then apply theme\n            styleNames.forEach(function(styleName){\n                assign(style, theme[styleName])\n            })\n        }\n\n        ;(props.onThemeStyleReady || emptyFn)(style, props)\n\n        //now apply non-theme\n        styleNames.forEach(function(styleName){\n            assign(style, props[styleName])\n        })\n\n        ;(props.onStyleReady || emptyFn)(style, props)\n\n        return normalize(style)\n\n\n        // assign(style, props.defaultStyle, props.style)\n\n        // if (props.disabled){\n\n        //     assign(style, props.defaultDisabledStyle, props.disabledStyle)\n\n        // } else {\n\n        //     if (props.interactionStyles){\n        //         if (props.expanded){\n        //             assign(style, props.defaultExpandedStyle, props.expandedStyle)\n        //         }\n\n        //         if (props.mouseOver){\n        //             assign(style, props.defaultOverStyle, props.overStyle)\n        //         }\n\n        //         if (props.active){\n        //             assign(style, props.defaultActiveStyle, props.activeStyle)\n        //         }\n        //     }\n        // }\n\n        // return normalize(style)\n    }\n})\n\nmodule.exports = MenuItem"]},"metadata":{},"sourceType":"script"}